# YADRO-test-task
Тестовое задание для Компании YADRO

## Описание
Данный проект эмулирует работу с устройством хранения данных типа лента (Tape) посредством обычного файла. Осуществляется сортировка данных с входной ленты и запись отсортированных данных на выходную ленту. В задаче есть ограничение на использование оперативной памяти. Поэтому для сортировки использовалась внешняя сортировка. Кроме того, класс FileTape предоставляет ряд операций по взаимодействию с лентой:
 - Чтение элемента с ленты (опциональна задержка данной операции);
 - Запись элемента на ленту (опциональна задержка данной операции);
 - Сдвиг ленты на один элемент (опциональна задержка данной операции);
 - Перемотка ленты (опциональна задержка данной операции);
 - Можно задать задержку для каждой из операций с помощью конфигурационного файла в формате JSON.

В файле File_generator представлен код генерации файла, который представляет ленту.

## Сборка
Для проекта используется система сборки CMake. Рекомендуется осуществлять сборку проекта в отдельной директории, чтобы не испортить директорию с исходным кодом, так в процессе сборки создаются вспомогательные файлы CMake, промежуточные файлы компиляции. Возможная структура каталога для сборки:
```
tape-project
├── tape/ # папка с исходным кодом
│   ├── CMakeLists.txt
│   ├── File_generator.cpp
│   ├── File_generator.h
│   ├── json.cpp
│   ├── json.h
│   ├── main.cpp
│   ├── Sorter.cpp
│   ├── Sorter.h
│   ├── Tape.cpp
│   ├── Tape.h
│   └── Tests.h
└── tape-build /  # папка для сборки
    └── # тут будут файлы сборки
```
Команды для сборки:
```
cd tape-build/
cmake ../tape/ -G "MinGW Makefiles"
cmake --build .
```
Флаг `-G "MinGW Makefiles"` используется под Windows, так как используется генератор `"MinGW Makefiles"`
## Запуск
Для запуска программы используется следующая команда:
```
./tape.exe test1_mid.txt out1_mid.txt
```
В случае, если нужно задать параметры для задержки, то запуск осуществляется так:
```
./tape.exe test1_mid.txt out1_mid.txt config.json
```
## Системные требования
 - C++17
 - GCC (MinGW-w64) 11.2.2
## Используемые технологии
 - CMake 3.22.0

